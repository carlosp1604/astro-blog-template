---
import BaseLayout from '@/layouts/BaseLayout.astro'
import Seo, { type Hreflang } from '@/components/Seo.astro'
import { getLocale, t } from '@/translations'

interface Props {
    name: string
    hreflangs: Array<Hreflang>
    canonical: string
    image?: string
}

const {
  name,
  canonical,
  hreflangs,
  image = ''
} = Astro.props

const siteName = import.meta.env.PUBLIC_SITE_NAME as string

const lang = getLocale(Astro.url.pathname)

const title = await t(lang, 'categories', 'category_page_title',  { name })
const description = await t(lang, 'categories', 'category_page_description',  { name })
---

<BaseLayout>
  <Seo
    title={title}
    description={description}
    canonical={canonical}
    lang={lang}
    hreflangs={hreflangs}
    ogImage={image}
    type={'article'}
    slot={'head'}
    siteName={siteName}
  />

  <main class="flex-1">
    <slot />
  </main>
</BaseLayout>