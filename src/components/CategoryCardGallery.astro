---
import type { CategoryApplicationDto } from '@/modules/Category/Application/CategoryApplicationDto'
import CategoryCard from './CategoryCard.astro'
import type { Locale } from '@/config/i18n.config'
import { t } from '@/translations'

interface Props {
    lang: Locale
    categories: Array<CategoryApplicationDto>
}

const { lang, categories } = Astro.props

const sectionTitleTranslation = await t(lang, 'categories', 'category_card_gallery_section_title')
---

<section aria-labelledby="categories-section-title">
  <h2 id="categories-section-title" class="sr-only">
    {sectionTitleTranslation}
  </h2>

  <ul class="grid grid-cols-2 gap-4 tb:grid-cols-4 md:grid-cols-6">
    {categories.map((category) => (
      <li>
        <CategoryCard
          title={category.name}
          href={`/${lang}/categories/${category.slug}`}
          image={category.imageUrl ?? undefined}
          altTitle={category.imageAltTitle ?? undefined}
          articleCount={category.articlesCount}
        />
      </li>
    ))}
  </ul>
</section>
